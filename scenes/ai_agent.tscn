[gd_scene load_steps=7 format=3 uid="uid://ai_agent"]

[ext_resource type="Script" path="res://scripts/ai_agent.gd" id=1]
[ext_resource type="Texture2D" path="res://assets/sprites/agent_idle.png" id=2]

[node name="AIAgent" type="CharacterBody2D"]
script = ExtResource(1)

[node name="BodyCollision" type="CollisionShape2D" parent="AIAgent"]
shape = SubResource(1)

[node name="Sprite" type="Sprite2D" parent="AIAgent"]
texture = ExtResource(2)
position = Vector2(0, -8)

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="AIAgent"]
path_desired_distance = 10.0
target_desired_distance = 10.0
radius = 12.0
max_speed = 120.0

[node name="DetectionArea" type="Area2D" parent="AIAgent"]
collision_layer = 2
collision_mask = 1

[node name="DetectionCollision" type="CollisionShape2D" parent="DetectionArea"]
shape = SubResource(2)

[node name="AttackArea" type="Area2D" parent="AIAgent"]
collision_layer = 4
collision_mask = 1

[node name="AttackCollision" type="CollisionShape2D" parent="AttackArea"]
shape = SubResource(3)

[node name="SightRayCast" type="RayCast2D" parent="AIAgent"]
enabled = true
cast_to = Vector2(300, 0)
collision_mask = 1
position = Vector2(0, -8)

[node name="HealthBar" type="ProgressBar" parent="AIAgent"]
offset_left = -30.0
offset_top = -60.0
offset_right = 30.0
offset_bottom = -50.0
min_value = 0.0
max_value = 100.0
value = 100.0

[sub_resource type="CircleShape2D" id=1]
radius = 12.0

[sub_resource type="CircleShape2D" id=2]
radius = 200.0

[sub_resource type="CircleShape2D" id=3]
radius = 50.0
